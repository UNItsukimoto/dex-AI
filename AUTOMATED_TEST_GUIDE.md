# 🤖 自動ペーパートレーディングテストガイド

## 📋 概要

このシステムは、7つの異なる取引戦略を自動的にテストし、1週間の期間で最も効果的な戦略を特定します。

## 🎯 テストされる戦略

### 1. **Conservative（保守的）**
- 最小信頼度: 80%
- 最大ポジション: 10%
- ストップロス: 3%
- テイクプロフィット: 5%
- 特徴: リスクを最小限に抑えた安全な取引

### 2. **Aggressive（積極的）**
- 最小信頼度: 50%
- 最大ポジション: 30%
- ストップロス: 5%
- テイクプロフィット: 10%
- 特徴: 高リスク・高リターンを狙う

### 3. **Balanced（バランス型）**
- 最小信頼度: 65%
- 最大ポジション: 20%
- ストップロス: 4%
- テイクプロフィット: 7%
- 特徴: リスクとリターンのバランスを重視

### 4. **Momentum（モメンタム追従）**
- 最小信頼度: 60%
- 最大ポジション: 25%
- ストップロス: 4%
- テイクプロフィット: 8%
- 特徴: トレンドに従った取引

### 5. **Contrarian（逆張り）**
- 最小信頼度: 70%
- 最大ポジション: 15%
- ストップロス: 3%
- テイクプロフィット: 6%
- 特徴: 市場の逆を行く戦略

### 6. **AI Only（AI予測のみ）**
- 最小信頼度: 60%
- 最大ポジション: 20%
- ストップロス: 4%
- テイクプロフィット: 8%
- 特徴: AI予測に完全依存

### 7. **Hybrid（ハイブリッド）**
- 最小信頼度: 65%
- 最大ポジション: 20%
- ストップロス: 3.5%
- テイクプロフィット: 7%
- 特徴: AIとテクニカル分析の組み合わせ

## 🚀 クイックスタート

### 1. **1日テスト（動作確認用）**
```bash
python run_automated_test.py --mode quick
```

### 2. **1週間テスト（推奨）**
```bash
python run_automated_test.py --mode week
```

### 3. **カスタムテスト**
```bash
python run_automated_test.py --mode custom --balance 20000 --days 3
```

## 🔄 自動スケジューラー実行

バックグラウンドで継続的にテストを実行する場合：

```bash
python automated_test_scheduler.py
```

**特徴:**
- 自動的に1週間のテストを開始
- 1時間ごとに中間結果を保存
- 日次レポートを生成
- Ctrl+Cで安全に停止

## 📊 結果分析

テスト完了後、詳細な分析レポートを生成：

```bash
python automated_test_analyzer.py
```

**生成されるレポート:**
- 戦略別パフォーマンス比較
- リスク・リターン分析
- 時系列分析
- インタラクティブダッシュボード（HTML）
- サマリーレポート（テキスト）

## 📁 ファイル構成

```
dex-AI/
├── core/
│   ├── automated_paper_testing.py    # コアシステム
│   └── ...
├── run_automated_test.py             # 実行スクリプト
├── automated_test_scheduler.py       # スケジューラー
├── automated_test_analyzer.py        # 分析ツール
├── paper_test_results.db            # 結果データベース
├── automated_test_results/          # 中間結果
└── test_analysis_reports/           # 分析レポート
```

## 📈 評価指標

### 1. **総損益（Total P&L）**
- 最も重要な指標
- 初期資金からの増減

### 2. **勝率（Win Rate）**
- 成功した取引の割合
- 目標: 60%以上

### 3. **シャープレシオ（Sharpe Ratio）**
- リスク調整後リターン
- 目標: 1.0以上

### 4. **最大ドローダウン（Max Drawdown）**
- 最大損失幅
- 目標: 5%以下

## 🎯 成功の基準

優れた戦略の条件：
- ✅ 総損益がプラス
- ✅ 勝率60%以上
- ✅ シャープレシオ1.0以上
- ✅ 最大ドローダウン5%以下

## ⚠️ 注意事項

1. **リソース使用**
   - 7つの戦略が並行実行されるため、CPU/メモリ使用量が高い
   - 十分なシステムリソースを確保

2. **データ保存**
   - すべての取引がデータベースに記録される
   - 定期的にバックアップを推奨

3. **実行時間**
   - 1週間テストは168時間かかる
   - 中断しても中間結果は保存される

## 🛠️ トラブルシューティング

### データベースエラー
```bash
# データベースをリセット
rm paper_test_results.db
```

### メモリ不足
```python
# 戦略数を減らして実行
# automated_paper_testing.py で TradingStrategy を編集
```

### プロセスが停止しない
```bash
# プロセスID確認
ps aux | grep python

# 強制終了
kill -9 [PID]
```

## 📞 サポート

問題が発生した場合：
1. `automated_test.log` を確認
2. エラーメッセージをコピー
3. GitHubイシューに報告

---

**Happy Testing! 🚀**